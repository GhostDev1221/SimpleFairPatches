---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by work.
--- DateTime: 2018/7/2 17:39
---


PublicResourceConfig = {}
PublicResourceConfig.publicResources = {}
PublicResourceConfig.perpareResource = {}

function PublicResourceConfig:init(config)
    self:initResourse(config)
end

function PublicResourceConfig:initResourse(config)
    for i, p_item in pairs(config) do
        local item = {}
        item.id = tonumber(p_item.id)
        item.resSaveMax = tonumber(p_item.resSaveMax)
        item.color = p_item.color
        item.interval = tonumber(p_item.interval)
        item.output = tonumber(p_item.output)
        item.time = tonumber(p_item.time)
        item.area = {}
        local startArea = { tonumber(p_item.resourceStartX), tonumber(p_item.resourceStartY), tonumber(p_item.resourceStartZ) }
        local endArea = { tonumber(p_item.resourceEndX), tonumber(p_item.resourceEndY), tonumber(p_item.resourceEndZ) }
        table.insert(item.area, startArea)
        table.insert(item.area, endArea)
        item.recNpcActor = p_item.recNpcActor
        item.recNpcName = p_item.recNpcName
        item.recNpcEffect = p_item.recNpcEffect
        item.initPos = VectorUtil.newVector3(tonumber(p_item.x), tonumber(p_item.y), tonumber(p_item.z))
        item.yaw = tonumber(p_item.yaw)
        item.getCd = tonumber(p_item.getCd)
        if p_item.id == 0 then
            self.perpareResource[#self.perpareResource + 1] = item
            break
        end
        self.publicResources[i] = item
    end
end

function PublicResourceConfig:getPerpareResource()
    return self.perpareResource
end

return PublicResourceConfig
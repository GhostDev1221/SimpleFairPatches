---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by work.
--- DateTime: 2018/7/12 14:40
---
require "base.util.StringUtil"
local GameRank = require "data.GameRank"

RankListener = {}

function RankListener:init()
    ZScoreFromRedisDBEvent.registerCallBack(function(key, userId, score, rank)
        local player = PlayerManager:getPlayerByUserId(userId)
        if not player then
            return
        end

        player:receive_rank(key, rank, score)
    end)
    ZRangeFromRedisDBEvent.registerCallBack(function(key, data)
        GameRank:receive_rank(key, data)
    end)
end

return RankListener
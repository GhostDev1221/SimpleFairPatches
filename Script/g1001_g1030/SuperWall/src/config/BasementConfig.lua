---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2018/8/21 16:52
---
BasementConfig = {}
BasementConfig.basements = {}

function BasementConfig:init(basements)
    self:initBasements(basements)
end

function BasementConfig:initBasements(basements)
    for index, basement in pairs(basements) do
        local item = {}
        item.ID = tonumber(basement.ID)
        item.TeamID = tonumber(basement.TeamID)
        item.Name = basement.Name
        item.Actor = basement.Actor
        item.AIFile = basement.AIFile
        item.Vec3 = VectorUtil.newVector3(tonumber(basement.PosX), tonumber(basement.PosY), tonumber(basement.PosZ))
        item.Yaw = tonumber(basement.Yaw)
        item.Attack = tonumber(basement.Attack)
        item.DefenseX = tonumber(basement.DefenseX)
        item.HP = tonumber(basement.HP)
        item.AttackCD = tonumber(basement.AttackCD)
        item.AttackDistance = tonumber(basement.AttackDistance)
        item.AttackNum = tonumber(basement.AttackNum)
        item.Money = tonumber(basement.Money)
        item.Type = basement.Type
        self.basements[tonumber(index)] = item
    end
    self:prepareBasements()
end

function BasementConfig:newBasementSetting(basement)
    local setting = MonsterSetting.new()
    setting.monsterId = basement.ID
    setting.monsterBtTree = basement.AIFile
    setting.monsterType = 4
    setting.isAutoAttack = true
    setting.attackDistance = basement.AttackDistance
    setting.attackCd = basement.AttackCD
    setting.attackCount = basement.AttackNum
    setting.moveSpeed = 0
    setting.attackType = 3
    setting.patrolDistance = 0
    setting.skillId = 0
    setting.skillCd = 0
    return setting
end

function BasementConfig:prepareBasements()
    for _, basement in pairs(self.basements) do
        HostApi.addMonsterSetting(BasementConfig:newBasementSetting(basement))
    end
end

return BasementConfig
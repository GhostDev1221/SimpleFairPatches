---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Jimmy.
--- DateTime: 2019/1/10 0010 17:52
---
require "skill.BaseSkill"

GrenadeSkill = class("GrenadeSkill", BaseSkill)
GrenadeSkill.AttributeType = {
    AddArea = "6121",
    Damage = "6122"
}

function GrenadeSkill:onInitAttributeFinish()
    local area = self:getAttributeById(GrenadeSkill.AttributeType.AddArea) / 2
    self.length = self.length + area
    self.width = self.width + area
    self.height = self.height + area
    self.damage = self.damage + self:getAttributeById(GrenadeSkill.AttributeType.Damage)
end

function GrenadeSkill:onPlayerEffected(player)
    local creator = self:getCreator()
    if not creator then
        return
    end
    player.onSkillDamageUid = creator.userId
    local damage = player:subDefense(self.damage)
    player:subHealth(damage)
    player.onSkillDamageUid = 0
end

return GrenadeSkill
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2019/1/10 15:24
---
AwardConfig = {}
AwardConfig.WinRewards = {}
AwardConfig.LoseRewards = {}

function AwardConfig:init(config)
    self:initAward(config)
end

function AwardConfig:initAward(config)
    for _, team in pairs(config) do
        local item = {}
        item.id = tonumber(team.id)
        item.exp = tonumber(team.exp)
        item.money = tonumber(team.money)
        item.yaoshi = tonumber(team.yaoshi)
        item.integral = tonumber(team.integral)
        if tonumber(team.iswin) == 1 then
            table.insert(self.WinRewards, item)
        else
            table.insert(self.LoseRewards, item)
        end
    end
    self:sortAward(self.WinRewards)
    self:sortAward(self.LoseRewards)
end

function AwardConfig:getWinByRank(rank)
    if rank <= #self.WinRewards then
        return self.WinRewards[rank]
    end
    return self.WinRewards[#self.WinRewards]
end

function AwardConfig:getLoseByRank(rank)
    if rank <= #self.LoseRewards then
        return self.LoseRewards[rank]
    end
    return self.LoseRewards[#self.LoseRewards]
end

function AwardConfig:sortAward(awards)
    if awards == nil then
        return
    end
    table.sort(awards, function(p1, p2)
        return p1.id < p2.id
    end)
end

return AwardConfig